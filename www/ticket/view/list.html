<ion-view title="Events" ng-controller="EventListController" class="dark">

<ion-content ng-show="!layoutTablet" class="info" >

<div class="black" >

  <div id="logo" class="row" style="background-color:black !important; margin:0 auto;">
    <img style="margin:0 auto; width:200px; height:80px;" src="img/logo.png"></img>
  </div>
  <div class="parent black aligned-center " style="margin-top:-10px;">
    <span class="small light" style="font-size:16px;">Location:</span>
    <span class="btn big red-txt" style="font-size:20px; font-weight:bold;">{{selectedLocation.name}}</span>
  </div>
  <div id="search-box" class="bar bar-header item-input-inset black">
    <div class="item-input-wrapper dark">
      <i class="icon ion-search placeholder-icon"></i>
      <input class="light" type="text" placeholder="Location" ng-model="selectedLocation.name" ng-click="openPopover($event)">
      <i class="clear-search icon ion-ios7-close-empty" ng-click="clearSearch()"></i>
    </div>
    <span><img src="img/calendar.png" style="width:34px; height:34px;" ng-click="openDatePicker()" ></img> </span>
  </div>

  <div id="search-box" class="bar bar-header item-input-inset black">
    <div class="item-input-wrapper">
      <i class="icon ion-search placeholder-icon"></i>
      <input type="search" placeholder="Arstist/Team/Show or Venue" ng-model="viewModel.search" ng-change="applySearchFilter()">
      <i class="clear-search icon ion-ios7-close-empty" ng-click="clearSearch()"></i>
    </div>
  </div>

  <div ng-show="viewModel.search == null || viewModel.search.length == 0">
    <div class="ticket-section">Popular</div>
    <ion-scroll direction="x" class="wide-as-needed dark">
    <div ui-sref="detail({event_index: event.id})" class="featured-item" ng-repeat="event in events track by $index">
      <div class="featured-item" back-img="{{event.image_url}}"></div>
      <div class="aligned-center light">{{event.name}}</div>
    </div>
  </ion-scroll>
</div>

<ion-list>
<ion-item auto-list-divider auto-list-divider-value="{{event.group}}" class="item-avatar" ng-repeat="event in events track by $index" ui-sref="detail({event_index: event.id})">
<div class="row" style="margin-left:-60px;">
  <div class="list-item" back-img="{{event.image_url}}"></div>
  <div class="col">
    <div class="title">{{event.name}}</div>
    <div class="text">{{event.venue}}</div>
    <div class="text">{{event.time}}</div>
  </div>
  <i class="icon ion-chevron-right icon-accessory" style="float:right; margin-top:25px; margin-right:-90px;"></i>
</div>
</ion-item>

</ion-list>

</div>

</ion-content>

<ion-content ng-show="layoutTablet" class="info"  overflow-scroll="true" scrollbar-y="yes">

<div class="black">

  
  <div id="logo" class="row" style="background-color:black !important; margin:0 auto;">
    <img style="margin:0 auto; width:250px; height:auto;" src="img/logo.png"></img>
  </div>

  <div class="parent black aligned-center " style="margin-top:-10px;">
    <span class="small light" style="font-size:16px;">Location:</span>
    <span class="btn big red-txt" style="font-size:20px; font-weight:bold;">{{selectedLocation.name}}</span>
  </div>
  
  <div id="search-box" class="bar bar-header item-input-inset black" >
    <div class="item-input-wrapper dark">
      <i class="icon ion-search placeholder-icon"></i>
      <input class="light" type="text" placeholder="Location" ng-model="selectedLocation.name" ng-click="openPopover($event)">
      <i class="clear-search icon ion-ios7-close-empty" ng-click="clearSearch()"></i>
    </div>
    <span><img src="img/calendar.png" style="width:34px; height:34px;" ng-click="openDatePicker()" ></img> </span>
  </div>

  <div id="search-box" class="bar bar-header item-input-inset black">
    <div class="item-input-wrapper">
      <i class="icon ion-search placeholder-icon"></i>
      <input type="search" placeholder="Arstist/Team/Show or Venue" ng-model="viewModel.search" ng-change="applySearchFilter()">
      <i class="clear-search icon ion-ios7-close-empty" ng-click="clearSearch()"></i>
    </div>
  </div>


  <div ng-show="viewModel.search == null || viewModel.search.length == 0">
    <div class="ticket-section">Popular</div>
    <ion-scroll direction="x" class="wide-as-needed dark" style="height:300px;">
    <div ui-sref="detail({event_index: event.id})" class="featured-item big" ng-repeat="event in events track by $index">
      <div class="featured-item big" back-img="{{event.image_url}}"></div>
      <div class="aligned-center light">{{event.name}}</div>
    </div>
  </ion-scroll>
</div>

<ion-list class="dark">
<ion-item class="dark" 
ng-repeat="eventType in allDates">

<div class="ticket-section light" style="height:50px; font-weight:bold; margin: -10px -20px -20px -20px;">
  <h2 class="light">{{eventType.label}}</h2>
</div>
<ion-scroll direction="x" class="wide-as-needed dark" style="margin:-20px -50px -20px -50px; height:270px;">
<div  ng-show="eventType.date.getTime() == event.date.getTime();"   ui-sref="detail({event_index: event.id})" class="featured-item dark" ng-repeat="event in events track by $index">
  <div class="featured-item" back-img="{{event.image_url}}"></div>
  <div class="aligned-center light">{{event.name}}</div>
  <div class="aligned-center red-txt" style="margin-top:10px;"><small>{{event.time}}</small></div>
  <div class="aligned-center light" style="margin-top:2px;"><small>{{event.venue}}</small></div>
</div>
</ion-scroll>

</ion-item>
</ion-list>

</div>

</ion-content>


</ion-view>